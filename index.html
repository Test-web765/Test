<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cursor Canvas Trail</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #000;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
<canvas id="canvas"></canvas>

<script>
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  let width = canvas.width = window.innerWidth;
  let height = canvas.height = window.innerHeight;

  const pointer = { x: width / 2, y: height / 2 };

  const lineCount = 25;
  const lines = [];
  const colors = [];

  // Farben erzeugen (unterschiedlich, aber konstant)
  for (let i = 0; i < lineCount; i++) {
    lines.push({ x: pointer.x, y: pointer.y, dx: 0, dy: 0 });
    const hue = (i * 37) % 360;
    colors.push(`hsl(${hue}, 80%, 60%)`);
  }

  window.addEventListener("mousemove", e => {
    pointer.x = e.clientX;
    pointer.y = e.clientY;
  });

  window.addEventListener("resize", () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
  });

  function animate() {
    ctx.clearRect(0, 0, width, height);

    for (let i = 0; i < lines.length; i++) {
      const prev = i === 0 ? pointer : lines[i - 1];
      const p = lines[i];

      // Langsame, weiche Bewegung
      p.dx += (prev.x - p.x) * 0.05;
      p.dy += (prev.y - p.y) * 0.05;
      p.dx *= 0.6;
      p.dy *= 0.6;
      p.x += p.dx;
      p.y += p.dy;
    }

    for (let i = 0; i < lines.length - 1; i++) {
      ctx.beginPath();
      ctx.strokeStyle = colors[i];
      ctx.lineWidth = 4;
      ctx.moveTo(lines[i].x, lines[i].y);
      ctx.lineTo(lines[i + 1].x, lines[i + 1].y);
      ctx.stroke();
    }

    requestAnimationFrame(animate);
  }

  animate();
</script>
</body>
</html>
